(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function n(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const c=document.getElementById("nameInput"),r=document.getElementById("audioPlayer"),i=document.getElementById("statusMsg"),f=document.getElementById("inputBtn"),l="sk_3lj3owsl_luVud0uARUPoFYTIbGQhNBdQ",p="https://api.sarvam.ai/text-to-speech";c.addEventListener("keydown",async d=>{if(d.key==="Enter"){const o=c.value.trim();if(!o)return;i.textContent="Generating voice... üîä",r.hidden=!0;try{const n=await(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json","api-subscription-key":l},body:JSON.stringify({text:o,target_language_code:"hi-IN",speaker:"anushka",pitch:0,pace:.7,loudness:2,speech_sample_rate:22050,enable_preprocessing:!0,model:"bulbul:v2"})})).json(),e=n?.audios?.[0];if(!e)throw console.error("Full API response:",n),new Error("Audio content missing");const t=new Blob([Uint8Array.from(atob(e),u=>u.charCodeAt(0))],{type:"audio/wav"}),a=URL.createObjectURL(t);r.src=a,r.hidden=!1,r.play(),i.textContent="‚úî Voice generated"}catch(s){console.error("TTS Error:",s),i.textContent="‚ùå Failed to generate speech."}c.value=""}});f.addEventListener("click",async d=>{const o=c.value.trim();if(o){i.textContent="Generating voice... üîä",r.hidden=!0;try{const n=await(await fetch(p,{method:"POST",headers:{"Content-Type":"application/json","api-subscription-key":l},body:JSON.stringify({text:o,target_language_code:"hi-IN",speaker:"karun",pitch:-.2,pace:.8,loudness:2.5,speech_sample_rate:24e3,enable_preprocessing:!0,model:"bulbul:v2"})})).json(),e=n?.audios?.[0];if(!e)throw console.error("Full API response:",n),new Error("Audio content missing");const t=new Blob([Uint8Array.from(atob(e),u=>u.charCodeAt(0))],{type:"audio/wav"}),a=URL.createObjectURL(t);r.src=a,r.hidden=!1,r.play(),i.textContent="‚úî Voice generated"}catch(s){console.error("TTS Error:",s),i.textContent="‚ùå Failed to generate speech."}c.value=""}});
